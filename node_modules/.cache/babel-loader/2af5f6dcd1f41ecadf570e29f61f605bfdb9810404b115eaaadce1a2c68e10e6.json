{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\skillhub-frontend\\\\src\\\\components\\\\AllAgentLists.js\",\n  _s = $RefreshSig$();\n// src/components/AllAgentLists.js\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AllAgentLists({\n  token\n}) {\n  _s();\n  const [agents, setAgents] = useState([]);\n  const [agentItems, setAgentItems] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    const fetchAgentsAndItems = async () => {\n      try {\n        // 1️⃣ Fetch all agents\n        const agentsRes = await axios.get(\"http://localhost:5000/api/agents\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setAgents(agentsRes.data);\n\n        // 2️⃣ Fetch distributed items for each agent\n        const itemsData = {};\n        for (let agent of agentsRes.data) {\n          const res = await axios.get(`http://localhost:5000/api/csv/agent/${agent._id}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          itemsData[agent._id] = res.data;\n        }\n        setAgentItems(itemsData);\n        setLoading(false);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error(err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to fetch agents/items\");\n        setLoading(false);\n      }\n    };\n    fetchAgentsAndItems();\n  }, [token]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      textAlign: \"center\"\n    },\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"All Agents and Their Distributed Lists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), agents.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No agents added yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 31\n    }, this), agents.map(agent => {\n      var _agentItems$agent$_id;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"30px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [agent.name, \" (\", agent.email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), ((_agentItems$agent$_id = agentItems[agent._id]) === null || _agentItems$agent$_id === void 0 ? void 0 : _agentItems$agent$_id.length) === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No items assigned.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          border: \"1\",\n          cellPadding: \"8\",\n          style: {\n            width: \"100%\",\n            borderCollapse: \"collapse\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: agentItems[agent._id].map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.FirstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.Phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.Notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, agent._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(AllAgentLists, \"KUVh1U/kVqnJnFz5z/ngmc+UDQU=\");\n_c = AllAgentLists;\nexport default AllAgentLists;\nvar _c;\n$RefreshReg$(_c, \"AllAgentLists\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","AllAgentLists","token","_s","agents","setAgents","agentItems","setAgentItems","loading","setLoading","error","setError","fetchAgentsAndItems","agentsRes","get","headers","Authorization","data","itemsData","agent","res","_id","err","_err$response","_err$response$data","console","response","message","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","color","className","length","map","_agentItems$agent$_id","marginBottom","name","email","border","cellPadding","width","borderCollapse","item","index","FirstName","Phone","Notes","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/skillhub-frontend/src/components/AllAgentLists.js"],"sourcesContent":["// src/components/AllAgentLists.js\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction AllAgentLists({ token }) {\n  const [agents, setAgents] = useState([]);\n  const [agentItems, setAgentItems] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchAgentsAndItems = async () => {\n      try {\n        // 1️⃣ Fetch all agents\n        const agentsRes = await axios.get(\"http://localhost:5000/api/agents\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setAgents(agentsRes.data);\n\n        // 2️⃣ Fetch distributed items for each agent\n        const itemsData = {};\n        for (let agent of agentsRes.data) {\n          const res = await axios.get(\n            `http://localhost:5000/api/csv/agent/${agent._id}`,\n            { headers: { Authorization: `Bearer ${token}` } }\n          );\n          itemsData[agent._id] = res.data;\n        }\n        setAgentItems(itemsData);\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n        setError(err.response?.data?.message || \"Failed to fetch agents/items\");\n        setLoading(false);\n      }\n    };\n\n    fetchAgentsAndItems();\n  }, [token]);\n\n  if (loading) return <p style={{ textAlign: \"center\" }}>Loading...</p>;\n  if (error) return <p style={{ color: \"red\" }}>{error}</p>;\n\n  return (\n    <div className=\"container\">\n      <h2>All Agents and Their Distributed Lists</h2>\n      {agents.length === 0 && <p>No agents added yet.</p>}\n      {agents.map((agent) => (\n        <div key={agent._id} style={{ marginBottom: \"30px\" }}>\n          <h3>\n            {agent.name} ({agent.email})\n          </h3>\n          {agentItems[agent._id]?.length === 0 ? (\n            <p>No items assigned.</p>\n          ) : (\n            <table border=\"1\" cellPadding=\"8\" style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>First Name</th>\n                  <th>Phone</th>\n                  <th>Notes</th>\n                </tr>\n              </thead>\n              <tbody>\n                {agentItems[agent._id].map((item, index) => (\n                  <tr key={index}>\n                    <td>{index + 1}</td>\n                    <td>{item.FirstName}</td>\n                    <td>{item.Phone}</td>\n                    <td>{item.Notes}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default AllAgentLists;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}